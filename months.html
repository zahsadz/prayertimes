<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>	
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
<meta name="format-detection" content="telephone=no">
<meta name="msapplication-tap-highlight" content="no">
<meta name="color-scheme" content="light dark">
<title>مواقيت الصلاة</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.rtl.min.css" integrity="sha384-+qdLaIRZfNu4cVPK/PxJJEy0B0f3Ugv8i482AKY7gwXwhaCroABd086ybrVKTa0q" crossorigin="anonymous">

<link rel="preconnect" href="https://fonts.googleapis.com"> 
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
<link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@100;300;400&family=Reem+Kufi&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
<style>
body{
font-size: 8px;
font-family: Tahoma ,Arial, Verdana, Geneva, Helvetica, sans-serif;
  }

</style>
</head>
<body>
<nav class="navbar fixed-top navbar-dark text-light bg-dark justify-content-center">
<div class="btn-group" role="group" aria-label="Basic example">
  <a href="index.html" data-bs-toggle="tooltip" title="مواقيت الصلاة اليوم" data-bs-placement="bottom" class="btn btn-dark"><i class="icons bi bi-alarm-fill"></i></a>
  <a href="months.html" data-bs-toggle="tooltip" title="مواقيت الشهر" data-bs-placement="bottom" class="btn btn-dark active"><i class="icons bi bi-calendar-check-fill"></i></a>
  <a href="azkar.html" data-bs-toggle="tooltip" title="أذكار المساء والصباح" data-bs-placement="bottom" class="btn btn-dark"><i class="icons bi bi-book"></i></a>
  <a href="kibla.html" data-bs-toggle="tooltip" title="إتجاه القبلة" data-bs-placement="bottom" class="btn btn-dark"><i class="icons bi bi-compass"></i></a>
  <a href="#" id="email" data-bs-toggle="tooltip" title="شارك" data-bs-placement="bottom" class="btn btn-dark"><i class="icons bi bi-share-fill"></i></a>
  <a href="settings.html" data-bs-toggle="tooltip" title="إعدادات و أذكار" data-bs-placement="bottom" class="btn btn-dark"><i class="icons bi bi-gear"></i></a>

</div>
</nav>
<div class="container-fluid">
<div class="row justify-content-center">
<div class="col-md-8 col-sm-12 col-lg-8">
<div role="main" id="deviceready" class="header mt-5 mb-5">

<div class="d-flex justify-content-between bg-light mt-5 mb-2">
    <div class="p-2 h3"><a href="javascript:displayMonth(-1)">
	<i class="bi bi-arrow-right-circle-fill"></i></a></div>
    <div class="p-2 h6" id="table-title"></div>
    <div class="p-2 h3"><a href="javascript:displayMonth(+1)">
	<i class="bi bi-arrow-left-circle-fill"></i></a></div>
  </div>
  



<div id="tab" class="table-responsive-sm">
<table id="mtb" class="table table-sm">
            <thead class="table-warning">
                <tr>
				 <th>الأيام</th>
				 <th>هجري</th>
                 <th>الفجر</th>
                 <th>الشروق</th>
                 <th>الظهر</th>
				 <th>العصر</th>
                 <th>المغرب</th>
                 <th>العشاء</th>
               </tr>
            </thead>
          <tbody id="tableBody">
                                    
        </tbody>
    </table>
</div>

	
<div align="center" style="margin-top: 7px">
	Source: <a href="http://praytimes.org/" class="mb-3 command">PrayTimes.org</a> |
	Time Format: <a id="time-format" href="javascript:switchFormat(1)" title="Change clock format" class="mb-3 command"></a>

</div>





</div>

</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.1.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>

<script src="js/adhan.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/luxon@3.3.0/build/global/luxon.min.js"></script>
<script src="https://rawgit.com/abdennour/hijri-date/master/cdn/hijri-date-latest.min.js" type="text/javascript" ></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script>

<script type="text/javascript">
    
    var DateTime = luxon.DateTime;
    var Interval = luxon.Interval;
    var Duration = luxon.Duration;
	var wdNames = new Array("الأحد", "الإثنين", "الثلاثاء", "الأربعاء", "الخميس", "الجمعة", "السبت");
	
	var lat = localStorage.getItem('lat'); 
    var lng = localStorage.getItem('lng');
    var timeZone = localStorage.getItem('timezonename');
 	var HJR_OFFSET = localStorage.getItem('HJR_OFFSET');
 	var fajr = localStorage.getItem('fajr');
 	var dhuhr = localStorage.getItem('dhuhr');
 	var asr = localStorage.getItem('asr');
 	var maghrib = localStorage.getItem('maghrib');
 	var isha = localStorage.getItem('isha');
	var prayerMethod = localStorage.getItem('prayerMethod');
 	var asrMethod = localStorage.getItem('asrMethod');
		  
   
    const coordinates = new adhan.Coordinates(lat,lng);
	 var params;

     switch(parseInt(prayerMethod)){
     case 0:
     params = adhan.CalculationMethod.MuslimWorldLeague()
     break
     case 1:
     params = adhan.CalculationMethod.Egyptian()
     break
     case 2:
     params = adhan.CalculationMethod.Karachi()
     break
     case 3:
     params = adhan.CalculationMethod.UmmAlQura()
     break
     case 4:
     params = adhan.CalculationMethod.Dubai()
     break
     case 5:
     params = adhan.CalculationMethod.MoonsightingCommittee()
     break
     case 6:
     params = adhan.CalculationMethod.NorthAmerica()
     break
     case 7:
     params = adhan.CalculationMethod.Kuwait()
     break
     case 8:
     params = adhan.CalculationMethod.Qatar()
     break
     case 9:
     params = adhan.CalculationMethod.Singapore()
     break
     case 10:
     params = adhan.CalculationMethod.Tehran()
     break
     case 11:
     params = adhan.CalculationMethod.Turkey()
     break
     case 12:
     params = adhan.CalculationMethod.Other();
     params.fajrAngle = 18; 
     params.ishaAngle = 17;
	 params.ishaInterval = 0;
	 params.maghribAngle = 0;
	 params.methodAdjustments = { maghrib: 3 };
     break
     default:
     params = adhan.CalculationMethod.MuslimWorldLeague()                  
      }
	
	switch(parseInt(asrMethod)){
     case 0:
     params.madhab = adhan.Madhab.Shafi;
     break
     case 1:
     params.madhab = adhan.Madhab.Hanafi;
     break
     default:
     params.madhab = adhan.Madhab.Hanafi;
     }
	
    
    params.polarCircleResolution = adhan.PolarCircleResolution.AqrabYaum;
    //params.highLatitudeRule = adhan.HighLatitudeRule.SeventhOfTheNight;
	//params.highLatitudeRule = adhan.HighLatitudeRule.recommended();

	//params.rounding = adhan.Rounding.None;
	//params.rounding = adhan.Rounding.Up;
	params.rounding = adhan.Rounding.Nearest;

    params.adjustments = {
		fajr: +fajr,
		//sunrise: 0,
		dhuhr: +dhuhr,
		asr: +asr,
		maghrib: +maghrib,
		isha: +isha 
		};
		
    var wdNames = new Array("الأحد", "الإثنين", "الثلاثاء", "الأربعاء", "الخميس", "الجمعة", "السبت");

	var currentDate = new Date();
	var timeFormat = 1; 
	switchFormat(0);
	
	// display monthly timetable
	function displayMonth(offset) {
		currentDate.setMonth(currentDate.getMonth()+ 1* offset);
		var month = currentDate.getMonth();
		var year = currentDate.getFullYear();
		var title = monthFullName(month)+ ' '+ year;
		document.getElementById('table-title').innerHTML = title;
		makeTable(year, month, lat, lng, timeZone);
	}
	
 
	
	function makeTable(year, month, lat, lng, timeZone) {		
		var date = new Date(year, month, 1);
		var endDate = new Date(year, month+ 1, 1);
		var format = timeFormat ? 'hh:mm a' : 'HH:mm';
		
  	var html = '';

    while (date < endDate) {
	
	  //  var d = date.getFullYear() + '-' + date.getMonth().toString().padStart(2, '0') + '-' + date.getDate().toString().padStart(2, '0');
	//	console.log(d);

	var output = ['Fajr', 'Sunrise', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];

   	var times = new adhan.PrayerTimes(coordinates, date, params);
  		  var local = DateTime.fromJSDate(date);
	      var rezoned = local.setZone(timeZone);
    var islamic = rezoned.plus({ days: parseInt(HJR_OFFSET) }).reconfigure({ outputCalendar: "islamic" });
	var hijr = islamic.setLocale('ar').toLocaleString(DateTime.DATE_HUGE);

	//console.log(times);
	console.log(rezoned.setLocale('ar').toLocaleString(DateTime.DATE_HUGE));
	var today = new Date(); 
	var isToday = (date.getMonth() == today.getMonth()) && (date.getDate() == today.getDate());
	var klass = isToday ? 'table-danger' : 'table-info';
    //monthFullName(date.getMonth())
	console.log(klass);
    html += '<tr class="'+klass+' text-start text-wrap"><td>'+date.getDate()+ '-'+wdNames[date.getDay()]+'</td><td>'+hijr+'</td>'; 
	 for (var i in output){	 
	html += '<td>'+DateTime.fromJSDate(times[output[i].toLowerCase()]).setZone(timeZone).setLocale('en').toFormat(format)+ '</td>';	   
       }  
    html += '</tr>';
    date.setDate(date.getDate() + 1);
    }  
    const tabelBody = document.querySelector("#tableBody");
    tableBody.innerHTML = html;
   } 
   

   function switchFormat(offset) {
		var formats = ['24-hour', '12-hour'];
		timeFormat = (timeFormat+ offset)% 2;
	document.getElementById('time-format').innerHTML = formats[timeFormat];
		update();
	}
	
   function update() {
		displayMonth(0);
	}	
	
   function monthFullName(month) {
	//var monthName = new Array('January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December');
	var monthName = new Array('كانون ثاني/يناير/جانفي', 'شباط/فبراير/فيفري', 'آذار/مارس', 'نيسان/أبريل/أفريل', 'أيار/مايو/ماي', 'حزيران/يونيو/جوان', 'تموز/يوليو/جويلية', 'آب/أغسطس/أوت', 'أيلول/سبتمبر', 'تشرين أول/أكتوبر', 'تشرين ثاني/نوفمبر', 'كانون أول/ديسمبر');
	return monthName[month];
	}				 
  

</script>
<script  src="js/webshare.js"></script>

</body>
</html>